"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[907],{3907:(x,P,l)=>{l.r(P),l.d(P,{AdminModule:()=>z});var h=l(177),f=l(3824),t=l(8699),b=l(1823),C=l(2924),v=l(4613);function s(o,d){if(1&o){const n=t.RV6();t.j41(0,"div",10),t.nrm(1,"img",11),t.j41(2,"div",12)(3,"button",4),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.onEdit(i.id))}),t.EFF(4,"Edit"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.onDelete(i.id))}),t.EFF(6,"Delete"),t.k0s()()()}if(2&o){const n=d.$implicit;t.R7$(1),t.Y8G("src",n.product_image,t.B4B)}}function p(o,d){if(1&o){const n=t.RV6();t.j41(0,"div",13)(1,"p"),t.EFF(2,"Are you sure you want to logout?"),t.k0s(),t.j41(3,"button",14),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.confirmLogout())}),t.EFF(4,"Yes"),t.k0s(),t.j41(5,"button",14),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.cancelLogout())}),t.EFF(6,"No"),t.k0s()()}}let _=(()=>{class o{constructor(n,r,e,i){this.getSearvice=n,this.router=r,this.admin=e,this.alert=i,this.userName=localStorage.getItem("email"),this.profileImage="assets/dow.png",this.showLogoutDialog=!1,this.images=[]}ngOnInit(){this.slideImageCall()}slideImageCall(){this.getSearvice.commonData({dataCode:"GET_ALL_PRODUCT_DETAILS_PD"}).subscribe(r=>{0===r.statusCode?this.images=r.responseContent:console.log("No data found")})}get displayName(){return this.userName.split("@")[0]}onAdd(){this.router.navigate(["/admin/addpage"])}onEdit(n){n?this.router.navigate(["/admin/editpage"],{queryParams:{id:n}}):console.log("Invalid image data")}onDelete(n){this.admin.adminDeleteDeleteProductImage(n).subscribe(r=>{0==r.statusCode?(this.alert.showCustomPopup("success","Image deleted successfully"),this.router.navigate(["/admin/"]),this.slideImageCall()):this.alert.showCustomPopup("error","Image not deleted")})}onClear(){console.log("Clear button clicked")}onLogout(){this.showLogoutDialog=!0}confirmLogout(){this.showLogoutDialog=!1,this.router.navigate(["/"]),localStorage.clear(),console.log("User logged out")}cancelLogout(){this.showLogoutDialog=!1}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(b.E),t.rXU(f.Ix),t.rXU(C.z),t.rXU(v.u))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-admindashborad"]],decls:23,vars:5,consts:[[1,"navbar"],[1,"navbar-left"],[3,"routerLink"],[1,"navbar-right"],[1,"btn",3,"click"],[1,"profile"],["alt","Profile",1,"profile-icon",3,"src","click"],[1,"image-gallery"],["class","card",4,"ngFor","ngForOf"],["class","logout-dialog",4,"ngIf"],[1,"card"],["alt","Image",1,"card-image",3,"src"],[1,"card-footer"],[1,"logout-dialog"],[3,"click"]],template:function(r,e){1&r&&(t.j41(0,"nav",0)(1,"div",1)(2,"h3"),t.EFF(3,"Admin Page"),t.k0s()(),t.j41(4,"div",1)(5,"h3"),t.EFF(6,"Product"),t.k0s()(),t.j41(7,"div",1)(8,"h3",2),t.EFF(9,"Carosel"),t.k0s()(),t.nrm(10,"div",1),t.j41(11,"div",3)(12,"button",4),t.bIt("click",function(){return e.onAdd()}),t.EFF(13,"Add"),t.k0s(),t.j41(14,"button",4),t.bIt("click",function(){return e.onClear()}),t.EFF(15,"Clear"),t.k0s(),t.j41(16,"div",5)(17,"span"),t.EFF(18),t.k0s(),t.j41(19,"img",6),t.bIt("click",function(){return e.onLogout()}),t.k0s()()()(),t.j41(20,"div",7),t.DNE(21,s,7,1,"div",8),t.k0s(),t.DNE(22,p,7,0,"div",9)),2&r&&(t.R7$(8),t.Y8G("routerLink","/admin/carosel/caroseldashboard"),t.R7$(10),t.JRh(e.displayName),t.R7$(1),t.Y8G("src",e.profileImage,t.B4B),t.R7$(2),t.Y8G("ngForOf",e.images),t.R7$(1),t.Y8G("ngIf",e.showLogoutDialog))},dependencies:[h.Sq,h.bT,f.Wk],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:linear-gradient(90deg,#d6d9de,#a6b2c2);color:#fff;box-shadow:0 4px 6px #0000001a;position:sticky;top:0;z-index:1000}.navbar-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif;font-size:1.5rem}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btn[_ngcontent-%COMP%]{background-color:#fff;color:#007bff;border:none;padding:8px 12px;border-radius:20px;cursor:pointer;font-size:14px;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:scale(1.1);color:#0056b3}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#fff}.profile-icon[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;cursor:pointer;border:2px solid white;transition:transform .3s ease,box-shadow .3s ease}.profile-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffffb3}.image-gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;padding:20px}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a;overflow:hidden;text-align:center;max-width:220px;margin:0 auto}.card-image[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-bottom:2px solid #ddd}.card-footer[_ngcontent-%COMP%]{padding:10px}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px;border-radius:6px}.logout-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;color:#000;padding:20px;box-shadow:0 8px 12px #0003;border-radius:10px;text-align:center;z-index:1100}.logout-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px;font-weight:500}.logout-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.logout-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .logout-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#007bff;color:#fff}.logout-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#f0f0f0;color:#000}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:15px}.navbar-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.navbar-right[_ngcontent-%COMP%]{flex-wrap:wrap;gap:15px;margin-top:10px}.btn[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:12px;padding:8px}.profile[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.profile-icon[_ngcontent-%COMP%]{width:30px;height:30px}.image-gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.navbar-right[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:linear-gradient(90deg,#d6d9de,#a6b2c2);color:#fff;box-shadow:0 4px 6px #0000001a;position:sticky;top:0;z-index:1000}.navbar-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif;font-size:1.5rem}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btn[_ngcontent-%COMP%]{background-color:#fff;color:#007bff;border:none;padding:8px 12px;border-radius:20px;cursor:pointer;font-size:14px;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:scale(1.1);color:#0056b3}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#fff}.profile-icon[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;cursor:pointer;border:2px solid white;transition:transform .3s ease,box-shadow .3s ease}.profile-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffffb3}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:15px}.navbar-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.navbar-right[_ngcontent-%COMP%]{flex-wrap:wrap;gap:15px;margin-top:10px}.btn[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:12px;padding:8px}.profile[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.profile-icon[_ngcontent-%COMP%]{width:30px;height:30px}}@media (max-width: 480px){.navbar-right[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.image-gallery[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return o})();var a=l(4341);function F(o,d){1&o&&(t.j41(0,"div")(1,"small",26),t.EFF(2,"Product Name is required."),t.k0s()())}function y(o,d){1&o&&(t.j41(0,"div")(1,"small",26),t.EFF(2,"Product Price is required and must be greater than 0."),t.k0s()())}function O(o,d){if(1&o&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&o){const n=d.$implicit;t.Y8G("value",n.id),t.R7$(1),t.SpI(" ",n.category_name," ")}}function k(o,d){1&o&&(t.j41(0,"div")(1,"small",26),t.EFF(2,"Category is required."),t.k0s()())}function E(o,d){1&o&&(t.j41(0,"div")(1,"small",26),t.EFF(2,"Product Code is required."),t.k0s()())}function I(o,d){1&o&&(t.j41(0,"div")(1,"small",26),t.EFF(2,"Product Description is required."),t.k0s()())}function M(o,d){if(1&o&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&o){const n=d.$implicit;t.R7$(1),t.SpI(" ",n," ")}}function w(o,d){if(1&o&&(t.j41(0,"div",28),t.DNE(1,M,2,1,"li",29),t.k0s()),2&o){const n=t.XpG();t.R7$(1),t.Y8G("ngForOf",n.temporaryDescriptions)}}function D(o,d){1&o&&(t.j41(0,"div")(1,"small",26),t.EFF(2,"Product Image is required."),t.k0s()())}function j(o,d){if(1&o&&(t.j41(0,"div",2)(1,"label"),t.EFF(2,"Image Preview:"),t.k0s(),t.j41(3,"div",30),t.nrm(4,"img",31),t.k0s()()),2&o){const n=t.XpG();t.R7$(4),t.Y8G("src",n.imagePreview,t.B4B)}}function N(o,d){1&o&&(t.j41(0,"div")(1,"small",25),t.EFF(2,"Product Name is required."),t.k0s()())}function T(o,d){1&o&&(t.j41(0,"div")(1,"small",25),t.EFF(2,"Product Price is required and must be greater than 0."),t.k0s()())}function $(o,d){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const n=d.$implicit;t.Y8G("value",n.id),t.R7$(1),t.SpI(" ",n.category_name," ")}}function G(o,d){1&o&&(t.j41(0,"div")(1,"small",25),t.EFF(2,"Category is required."),t.k0s()())}function R(o,d){1&o&&(t.j41(0,"div")(1,"small",25),t.EFF(2,"ProductStatus is required."),t.k0s()())}function U(o,d){1&o&&(t.j41(0,"div")(1,"small",25),t.EFF(2,"Product Code is required."),t.k0s()())}function S(o,d){if(1&o&&t.nrm(0,"img",27),2&o){const n=t.XpG();t.Y8G("src",n.imagePreview||n.currentProductImage,t.B4B)}}const Y=[{path:"",component:_},{path:"addpage",component:(()=>{class o{constructor(n,r,e,i,c){this.fb=n,this.commondata=r,this.admin=e,this.alert=i,this.router=c,this.categoriesList=[],this.subCategoriesList=[],this.imagePreview=null,this.selectedFile=null,this.temporaryDescriptions=[],this.productForm=this.fb.group({productName:["",a.k0.required],productPrice:[null,[a.k0.required,a.k0.min(1)]],productCategoryId:["",a.k0.required],productCode:["",a.k0.required],productDescription:[""]})}ngOnInit(){this.loadCategories()}loadCategories(){this.commondata.commonData({dataCode:"GET_ALL_CATEGORY"}).subscribe(r=>{0===r.statusCode?(this.categoriesList=r.responseContent,this.onCategoryChange()):console.error("Failed to fetch categories.")})}onCategoryChange(){this.commondata.commonData({dataCode:"GET_ALL_SUB_CATEGORY"}).subscribe(r=>{0===r.statusCode?this.subCategoriesList=r.responseContent:console.error("Failed to fetch subcategories.")})}onFileChange(n){const r=n.target;if(r.files&&r.files.length>0){this.selectedFile=r.files[0];const e=new FileReader;e.onload=i=>{this.imagePreview=i.target?.result},e.readAsDataURL(this.selectedFile)}}onAddDescription(){const n=this.productForm.get("productDescription")?.value;this.temporaryDescriptions.push(n),console.log(this.temporaryDescriptions),this.productForm.get("productDescription")?.reset()}onSubmit(){if(!this.selectedFile)return void alert("Please select an image.");const n=encodeURIComponent(this.productForm.get("productName")?.value),r=encodeURIComponent(this.productForm.get("productPrice")?.value),e=encodeURIComponent(this.productForm.get("productCategoryId")?.value),i=encodeURIComponent(this.productForm.get("productCode")?.value),u=(encodeURIComponent(this.productForm.get("productDescription")?.value),`/product/addproduct?productName=${n}&productPrice=${r}&productCategoryId=${e}&productDescription=${this.temporaryDescriptions}&productCode=${i}`),m=new FormData;m.append("image",this.selectedFile),this.admin.adminAddProduct(u,m).subscribe(g=>{0===g.statusCode?(this.alert.showCustomPopup("success","Product added successfully."),this.router.navigate(["/admin/"])):this.alert.showCustomPopup("error","Failed to add product.")})}onCancel(){this.productForm.reset(),this.imagePreview="",this.selectedFile=null}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(a.ok),t.rXU(b.E),t.rXU(C.z),t.rXU(v.u),t.rXU(f.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-adminaddpage"]],decls:47,vars:11,consts:[[1,"product-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","productName"],["type","text","id","productName","formControlName","productName","placeholder","Enter product name",1,"form-control"],[4,"ngIf"],["for","productPrice"],["type","number","id","productPrice","formControlName","productPrice","placeholder","Enter product price",1,"form-control"],["for","productCategoryId"],["id","productCategoryId","formControlName","productCategoryId",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","productCode"],["type","text","id","productCode","formControlName","productCode","placeholder","Enter product code",1,"form-control"],[1,"form-group","description-wrapper"],["for","productDescription"],[1,"description-input-container"],["id","productDescription","formControlName","productDescription","placeholder","Enter product description","rows","3",1,"form-control","description-input"],["type","button",1,"btn","btn-light","add-btn",3,"click"],["class","temporary-descriptions",4,"ngIf"],["for","imageInput"],["type","file","id","imageInput",1,"form-control-file",3,"change"],["class","form-group",4,"ngIf"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[3,"value"],[1,"temporary-descriptions"],[4,"ngFor","ngForOf"],[1,"image-container"],["alt","Image Preview",1,"img-preview",3,"src"]],template:function(r,e){if(1&r&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Product Details"),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return e.onSubmit()}),t.j41(4,"div",2)(5,"label",3),t.EFF(6,"Product Name *"),t.k0s(),t.nrm(7,"input",4),t.DNE(8,F,3,0,"div",5),t.k0s(),t.j41(9,"div",2)(10,"label",6),t.EFF(11,"Product Price *"),t.k0s(),t.nrm(12,"input",7),t.DNE(13,y,3,0,"div",5),t.k0s(),t.j41(14,"div",2)(15,"label",8),t.EFF(16,"Product Category *"),t.k0s(),t.j41(17,"select",9)(18,"option",10),t.EFF(19,"Select a category"),t.k0s(),t.DNE(20,O,2,2,"option",11),t.k0s(),t.DNE(21,k,3,0,"div",5),t.k0s(),t.j41(22,"div",2)(23,"label",12),t.EFF(24,"Product Code *"),t.k0s(),t.nrm(25,"input",13),t.DNE(26,E,3,0,"div",5),t.k0s(),t.j41(27,"div",14)(28,"label",15),t.EFF(29,"Product Description *"),t.k0s(),t.j41(30,"div",16),t.nrm(31,"textarea",17),t.j41(32,"button",18),t.bIt("click",function(){return e.onAddDescription()}),t.EFF(33," + "),t.k0s()(),t.DNE(34,I,3,0,"div",5),t.k0s(),t.DNE(35,w,2,1,"div",19),t.j41(36,"div",2)(37,"label",20),t.EFF(38,"Upload Product Image *"),t.k0s(),t.j41(39,"input",21),t.bIt("change",function(c){return e.onFileChange(c)}),t.k0s(),t.DNE(40,D,3,0,"div",5),t.k0s(),t.DNE(41,j,5,1,"div",22),t.j41(42,"div",23)(43,"button",24),t.EFF(44,"Submit"),t.k0s(),t.j41(45,"button",25),t.bIt("click",function(){return e.onCancel()}),t.EFF(46,"Cancel"),t.k0s()()()()),2&r){let i,c,u,m,g;t.R7$(3),t.Y8G("formGroup",e.productForm),t.R7$(5),t.Y8G("ngIf",(null==(i=e.productForm.get("productName"))?null:i.touched)&&(null==(i=e.productForm.get("productName"))?null:i.invalid)),t.R7$(5),t.Y8G("ngIf",(null==(c=e.productForm.get("productPrice"))?null:c.touched)&&(null==(c=e.productForm.get("productPrice"))?null:c.invalid)),t.R7$(7),t.Y8G("ngForOf",e.categoriesList),t.R7$(1),t.Y8G("ngIf",(null==(u=e.productForm.get("productCategoryId"))?null:u.touched)&&(null==(u=e.productForm.get("productCategoryId"))?null:u.invalid)),t.R7$(5),t.Y8G("ngIf",(null==(m=e.productForm.get("productCode"))?null:m.touched)&&(null==(m=e.productForm.get("productCode"))?null:m.invalid)),t.R7$(8),t.Y8G("ngIf",(null==(g=e.productForm.get("productDescription"))?null:g.touched)&&(null==(g=e.productForm.get("productDescription"))?null:g.invalid)),t.R7$(1),t.Y8G("ngIf",e.temporaryDescriptions.length>0),t.R7$(5),t.Y8G("ngIf",!e.selectedFile&&e.productForm.touched),t.R7$(1),t.Y8G("ngIf",e.imagePreview),t.R7$(2),t.Y8G("disabled",e.productForm.invalid)}},dependencies:[h.Sq,h.bT,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.j4,a.JD],styles:[".product-form-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:30px auto;padding:40px;background-color:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a;transition:all .3s ease}h3[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:700;color:#333;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#444}input.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:8px;border:1px solid #ddd;border-radius:8px;font-size:16px;transition:border-color .3s ease}input.form-control[_ngcontent-%COMP%]:focus, select.form-control[_ngcontent-%COMP%]:focus{border-color:#4c9df0;outline:none}input[type=file].form-control-file[_ngcontent-%COMP%]{margin-top:10px}.image-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.img-preview[_ngcontent-%COMP%]{width:100%;max-height:200px;object-fit:cover;border-radius:10px;border:1px solid #ddd}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}button[_ngcontent-%COMP%]{width:48%;padding:12px;border:none;border-radius:8px;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}button.btn-primary[_ngcontent-%COMP%]{background-color:#4c9df0;color:#fff}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#357ab7;transform:translateY(-2px)}button.btn-secondary[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#444}button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e4e4e4;transform:translateY(-2px)}small.text-danger[_ngcontent-%COMP%]{font-size:14px;color:#e74c3c;margin-top:5px;display:block}.product-form-wrapper[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:scale(1.02)}.description-wrapper[_ngcontent-%COMP%]{position:relative}.description-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.description-input[_ngcontent-%COMP%]{flex-grow:1;padding-right:40px}.add-btn[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;height:30px;width:30px;border-radius:50%;border:1px solid #ccc;background-color:#f9f9f9;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;line-height:1}"]})}}return o})()},{path:"editpage",component:(()=>{class o{constructor(n,r,e,i,c,u){this.fb=n,this.commondata=r,this.admin=e,this.alert=i,this.router=c,this.route=u,this.categoriesList=[],this.subCategoriesList=[],this.imagePreview=null,this.selectedFile=null,this.productEditForm=this.fb.group({productName:["",a.k0.required],productPrice:[null,[a.k0.required,a.k0.min(1)]],productCategoryId:["",a.k0.required],productCode:["",a.k0.required],ProductStatus:["",a.k0.required]})}ngOnInit(){this.loadCategories(),this.route.queryParams.subscribe(n=>{this.image=n.id}),this.editPage()}editPage(){this.commondata.commonData({dataCode:"GET_PRODUCT_DETAILS_BY_PRODUCTID",placeholderKeyValueMap:{id:this.image}}).subscribe(r=>{if(0===r.statusCode&&r.responseContent.length>0){const e=r.responseContent[0];this.currentProductImage=e.product_image,this.productEditForm.patchValue({productName:e.product_name,productPrice:e.product_price,productCategoryId:e.product_category_id,productSubCategoryId:e.product_sub_category_id,productCode:e.product_code})}else console.log("Product details not found or invalid response")})}loadCategories(){this.commondata.commonData({dataCode:"GET_ALL_CATEGORY"}).subscribe(r=>{0===r.statusCode?(this.categoriesList=r.responseContent,this.onCategoryChange()):console.error("Failed to fetch categories.")})}onCategoryChange(){this.commondata.commonData({dataCode:"GET_ALL_SUB_CATEGORY"}).subscribe(r=>{0===r.statusCode?this.subCategoriesList=r.responseContent:console.error("Failed to fetch subcategories.")})}onFileChange(n){const r=n.target;if(r.files&&r.files.length>0){this.selectedFile=r.files[0];const e=new FileReader;e.onload=i=>{this.imagePreview=i.target?.result},e.readAsDataURL(this.selectedFile)}}onSubmit(){const n={id:this.image,productName:this.productEditForm.get("productName")?.value,productPrice:this.productEditForm.get("productPrice")?.value,productCategoryId:this.productEditForm.get("productCategoryId")?.value,productSubCategoryId:this.productEditForm.get("productSubCategoryId")?.value,productImage:this.selectedFile?this.selectedFile.name:this.currentProductImage||null,productCode:this.productEditForm.get("productCode")?.value,productStatus:this.productEditForm.get("ProductStatus")?.value},r=JSON.stringify(n),e=new FormData;e.append("productDTO",r),this.selectedFile&&e.append("image",this.selectedFile),this.admin.adminUpdateProduct(e).subscribe(i=>{0===i.statusCode?(this.alert.showCustomPopup("success","Product updated successfully."),this.router.navigate(["/admin/"])):this.alert.showCustomPopup("error","Failed to update product.")})}onCancel(){this.router.navigate(["/admin/"])}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(a.ok),t.rXU(b.E),t.rXU(C.z),t.rXU(v.u),t.rXU(f.Ix),t.rXU(f.nX))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-admineditpage"]],decls:50,vars:9,consts:[[1,"product-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","productName"],["type","text","id","productName","formControlName","productName","placeholder","Enter product name",1,"form-control"],[4,"ngIf"],["for","productPrice"],["type","number","id","productPrice","formControlName","productPrice","placeholder","Enter product price",1,"form-control"],["for","productCategoryId"],["id","productCategoryId","formControlName","productCategoryId",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","productSubCategoryId"],["id","Product Status","formControlName","ProductStatus",1,"form-control"],["value","true"],["value","false"],["for","productCode"],["type","text","id","productCode","formControlName","productCode","placeholder","Enter product code",1,"form-control"],["for","imageInput"],["type","file","id","imageInput",1,"form-control-file",3,"change"],[1,"image-container"],["alt","Image Preview","class","img-preview",3,"src",4,"ngIf"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[3,"value"],["alt","Image Preview",1,"img-preview",3,"src"]],template:function(r,e){if(1&r&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Product Details"),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return e.onSubmit()}),t.j41(4,"div",2)(5,"label",3),t.EFF(6,"Product Name *"),t.k0s(),t.nrm(7,"input",4),t.DNE(8,N,3,0,"div",5),t.k0s(),t.j41(9,"div",2)(10,"label",6),t.EFF(11,"Product Price *"),t.k0s(),t.nrm(12,"input",7),t.DNE(13,T,3,0,"div",5),t.k0s(),t.j41(14,"div",2)(15,"label",8),t.EFF(16,"Product Category *"),t.k0s(),t.j41(17,"select",9)(18,"option",10),t.EFF(19,"Select a category"),t.k0s(),t.DNE(20,$,2,2,"option",11),t.k0s(),t.DNE(21,G,3,0,"div",5),t.k0s(),t.j41(22,"div",2)(23,"label",12),t.EFF(24,"Product Status *"),t.k0s(),t.j41(25,"select",13)(26,"option",10),t.EFF(27,"Select Product Status"),t.k0s(),t.j41(28,"option",14),t.EFF(29,"True"),t.k0s(),t.j41(30,"option",15),t.EFF(31,"False"),t.k0s()(),t.DNE(32,R,3,0,"div",5),t.k0s(),t.j41(33,"div",2)(34,"label",16),t.EFF(35,"Product Code *"),t.k0s(),t.nrm(36,"input",17),t.DNE(37,U,3,0,"div",5),t.k0s(),t.j41(38,"div",2)(39,"label",18),t.EFF(40,"Upload Product Image *"),t.k0s(),t.j41(41,"input",19),t.bIt("change",function(c){return e.onFileChange(c)}),t.k0s()(),t.j41(42,"div",2)(43,"div",20),t.DNE(44,S,1,1,"img",21),t.k0s()(),t.j41(45,"div",22)(46,"button",23),t.EFF(47,"Submit"),t.k0s(),t.j41(48,"button",24),t.bIt("click",function(){return e.onCancel()}),t.EFF(49,"Cancel"),t.k0s()()()()),2&r){let i,c,u,m,g;t.R7$(3),t.Y8G("formGroup",e.productEditForm),t.R7$(5),t.Y8G("ngIf",(null==(i=e.productEditForm.get("productName"))?null:i.touched)&&(null==(i=e.productEditForm.get("productName"))?null:i.invalid)),t.R7$(5),t.Y8G("ngIf",(null==(c=e.productEditForm.get("productPrice"))?null:c.touched)&&(null==(c=e.productEditForm.get("productPrice"))?null:c.invalid)),t.R7$(7),t.Y8G("ngForOf",e.categoriesList),t.R7$(1),t.Y8G("ngIf",(null==(u=e.productEditForm.get("productCategoryId"))?null:u.touched)&&(null==(u=e.productEditForm.get("productCategoryId"))?null:u.invalid)),t.R7$(11),t.Y8G("ngIf",(null==(m=e.productEditForm.get("ProductStatus"))?null:m.touched)&&(null==(m=e.productEditForm.get("ProductStatus"))?null:m.invalid)),t.R7$(5),t.Y8G("ngIf",(null==(g=e.productEditForm.get("productCode"))?null:g.touched)&&(null==(g=e.productEditForm.get("productCode"))?null:g.invalid)),t.R7$(7),t.Y8G("ngIf",e.imagePreview||e.currentProductImage),t.R7$(2),t.Y8G("disabled",e.productEditForm.invalid)}},dependencies:[h.Sq,h.bT,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.j4,a.JD],styles:[".product-form-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:30px auto;padding:40px;background-color:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a;transition:all .3s ease}h3[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:700;color:#333;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#444}input.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:8px;border:1px solid #ddd;border-radius:8px;font-size:16px;transition:border-color .3s ease}input.form-control[_ngcontent-%COMP%]:focus, select.form-control[_ngcontent-%COMP%]:focus{border-color:#4c9df0;outline:none}input[type=file].form-control-file[_ngcontent-%COMP%]{margin-top:10px}.image-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.img-preview[_ngcontent-%COMP%]{width:100%;max-height:200px;object-fit:cover;border-radius:10px;border:1px solid #ddd}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}button[_ngcontent-%COMP%]{width:48%;padding:12px;border:none;border-radius:8px;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}button.btn-primary[_ngcontent-%COMP%]{background-color:#4c9df0;color:#fff}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#357ab7;transform:translateY(-2px)}button.btn-secondary[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#444}button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e4e4e4;transform:translateY(-2px)}small.text-danger[_ngcontent-%COMP%]{font-size:14px;color:#e74c3c;margin-top:5px;display:block}.product-form-wrapper[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:scale(1.02)}"]})}}return o})()},{path:"carosel",loadChildren:()=>l.e(253).then(l.bind(l,2253)).then(o=>o.CaroselModule)}];let L=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(Y),f.iI]})}}return o})(),z=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[h.MD,L,a.YN,a.X1]})}}return o})()},2924:(x,P,l)=>{l.d(P,{z:()=>b});var h=l(5312),f=l(8699),t=l(1626);let b=(()=>{class C{constructor(s){this.http=s,this.baseUrls=h.c.baseUrl}adminAddCaroselImage(s){return this.http.post(this.baseUrls+"/image/addImage",s)}adminEditCaroselImage(s,p){return this.http.put(`${this.baseUrls}/image/updateImageById?id=${s}`,p)}adminGetImageById(s){return this.http.get(`${this.baseUrls}/image/getImageById?id=${s}`)}adminDeleteImageById(s){return this.http.delete(`${this.baseUrls}/image/deleteImageById?id=${s}`)}adminAddProduct(s,p){return this.http.post(`${this.baseUrls}${s}`,p)}adminUpdateProduct(s){return this.http.put(`${this.baseUrls}/product/updateproduct`,s)}adminDeleteDeleteProductImage(s){return this.http.delete(`${this.baseUrls}/product/deleteproduct?id=${s}`)}static{this.\u0275fac=function(p){return new(p||C)(f.KVO(t.Qq))}}static{this.\u0275prov=f.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()}}]);